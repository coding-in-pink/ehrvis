
{% extends "base.html" %}

{% block css %}
	<link href="/static/css/bootstrap-tour.min.css" rel="stylesheet">
{% endblock %}

{% block main %}
	<link rel="stylesheet" href="/static/css/style.css">
	<script language="javascript" type="text/javascript" src="/static/js/jquery.flot.js"></script>
	<script language="javascript" type="text/javascript" src="/static/js/jquery.flot.time.js"></script>
	<script language="javascript" type="text/javascript" src="/static/js/jquery.flot.navigate.js"></script>
	<script language="javascript" type="text/javascript" src="/static/js/jquery.flot.selection.js"></script>
	<script language="javascript" type="text/javascript" src="/static/js/jquery.flot.shift.js"></script>
	<script language="javascript" type="text/javascript" src="/static/scripts/Note.js"></script>
	<script language="javascript" type="text/javascript" src="/static/bower_components/webcomponentsjs/webcomponents.js"></script>
	<link href="/static/bower_components/paper-dialog/paper-dialog.html" rel="import">
	<script language="javascript" type="text/javascript" src="/static/js/bootstrap-tour.min.js"></script>
	<script language="javascript" type="text/javascript" src="/static/scripts/NoteTour.js"></script>

<!-- <body> -->

	<div id="header">
		<h2>Notes</h2>
	</div>

	<div class="container-fluid" align="center">

		<div class="demo-container">
			<div id="note_plot_target" class="demo-placeholder"></div>
		</div>

		<div class="demo-container" style="height:150px;">
			<div id="note_nav_target" class="demo-placeholder"></div>
		</div>

	</div>

	<paper-dialog id="note_detail" heading="Title" class="scrolling" backdrop layered="false">
		<p>blahblahblah I'm cool.</p>
    </paper-dialog>

	<script>
		var med_timeline;
		var note_timeline;
		var notes_by_date;
		var med_display_indices;
		var med_display_names;
		var noteSeries, notePreviews;

		window.onload = function(){			
			// ----------------------------------
			// load note data and create timeline
			// ----------------------------------

			$.getJSON( "/_notes/", function(result) {
				notePreviews = result['previewData']
				noteSeries = result['plottingSeries']
				minDate = result['minDate']
				maxDate = result['maxDate']
				hospitalStays = result['hospitalizations']
				console.log(hospitalStays)
				createNoteTimeline(noteSeries, hospitalStays, minDate, maxDate);
				startNoteTour();
			});

		}

		
	</script>

{% endblock %}
